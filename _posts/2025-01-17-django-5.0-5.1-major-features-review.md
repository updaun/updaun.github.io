---
layout: post
title: "Django 5.0 & 5.1 ì£¼ìš” ê¸°ëŠ¥ ë¦¬ë·°: ì›¹ ê°œë°œì´ ë” ì‰¬ì›Œì¡Œë‹¤"
date: 2025-01-17 10:00:00 +0900
categories: [Django, Python, Web Development]
tags: [Django, Python, Web Framework, Backend, Database, ORM, Forms, Admin, Templates, Async]
---

Django 5.0ê³¼ 5.1ì´ ì¶œì‹œë˜ë©´ì„œ ì›¹ ê°œë°œ ìƒì‚°ì„±ê³¼ ì ‘ê·¼ì„±ì´ í¬ê²Œ í–¥ìƒë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ìµœì‹  Django ë²„ì „ë“¤ì˜ ì£¼ìš” ê¸°ëŠ¥ë“¤ì„ ìì„¸íˆ ì‚´í´ë³´ê³ , ê°œë°œ í˜„ì¥ì—ì„œ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

## ğŸ“Š Django 5.1 ì£¼ìš” ê¸°ëŠ¥

### 1. {% raw %}{% querystring %}{% endraw %} í…œí”Œë¦¿ íƒœê·¸

**ë¬´ì—‡ì´ ë°”ë€Œì—ˆë‚˜?**
- ê¸°ì¡´: ë³µì¡í•œ ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ ì²˜ë¦¬ ë¡œì§
- ìƒˆë¡œì›€: ê°„ë‹¨í•œ í…œí”Œë¦¿ íƒœê·¸ë¡œ URL íŒŒë¼ë¯¸í„° ì¡°ì‘

**ê¸°ì¡´ ë°©ì‹ (ë³µì¡í•¨)**
```django
{% raw %}
{# ê¸°ì¡´ ë°©ì‹ - ë§¤ìš° ë³µì¡í•œ ì½”ë“œ #}
<a href="?{% for key, values in request.GET.iterlists %}
  {% if key != "page" %}
    {% for value in values %}
      {{ key }}={{ value }}&amp;
    {% endfor %}
  {% endif %}
{% endfor %}page={{ page.next_page_number }}">Next page</a>
{% endraw %}
```

**ìƒˆë¡œìš´ ë°©ì‹ (ê°„ë‹¨í•¨)**
```django
{% raw %}
{# Django 5.1 ë°©ì‹ - ë§¤ìš° ê°„ë‹¨ #}
<a href="{% querystring page=page.next_page_number %}">Next page</a>
{% endraw %}
```

**ì‹¤ì œ í™œìš© ì˜ˆì‹œ**
```django
{% raw %}
<!-- í•„í„° ì˜µì…˜ ì¶”ê°€ -->
<a href="{% querystring category='electronics' %}">ì „ìì œí’ˆ</a>

<!-- ì •ë ¬ ì˜µì…˜ ë³€ê²½ -->
<a href="{% querystring sort='price' order='desc' %}">ê°€ê²©ìˆœ</a>

<!-- ê²€ìƒ‰ ì¿¼ë¦¬ ìœ ì§€í•˜ë©´ì„œ í˜ì´ì§€ ì´ë™ -->
<a href="{% querystring page=2 %}">ë‹¤ìŒ í˜ì´ì§€</a>
{% endraw %}
```

### 2. PostgreSQL ì—°ê²° í’€ë§

**ì„±ëŠ¥ ê°œì„ ì˜ í•µì‹¬**
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹œê°„ ë‹¨ì¶•
- ë™ì‹œ ì—°ê²° ìˆ˜ íš¨ìœ¨ì  ê´€ë¦¬
- ë†’ì€ íŠ¸ë˜í”½ í™˜ê²½ì—ì„œ ì•ˆì •ì„± í–¥ìƒ

**ì„¤ì • ë°©ë²•**
```python
# settings.py
DATABASES = {
    "default": {
        "ENGINE": "django.db.backends.postgresql",
        "NAME": "mydb",
        "USER": "myuser",
        "PASSWORD": "mypassword",
        "HOST": "localhost",
        "PORT": "5432",
        "OPTIONS": {
            "pool": {
                "min_size": 2,      # ìµœì†Œ ì—°ê²° ìˆ˜
                "max_size": 10,     # ìµœëŒ€ ì—°ê²° ìˆ˜
                "timeout": 30,      # íƒ€ì„ì•„ì›ƒ (ì´ˆ)
            }
        },
    },
}
```

### 3. LoginRequiredMiddleware

**ê¸°ë³¸ ì¸ì¦ ê°•í™”**
- ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì— ë¡œê·¸ì¸ í•„ìˆ˜ ì ìš©
- íŠ¹ì • ë·°ë§Œ ì˜ˆì™¸ ì²˜ë¦¬ ê°€ëŠ¥
- ë³´ì•ˆ ê°•í™”ì™€ ê°œë°œ íš¨ìœ¨ì„± ì¦ëŒ€

**ì„¤ì • ë°©ë²•**
```python
# settings.py
MIDDLEWARE = [
    # ... ê¸°ì¡´ ë¯¸ë“¤ì›¨ì–´
    "django.contrib.auth.middleware.LoginRequiredMiddleware",
]
```

**ì˜ˆì™¸ ì²˜ë¦¬**
```python
# views.py
from django.contrib.auth.decorators import login_not_required

@login_not_required
def public_view(request):
    return render(request, 'public.html')

@login_not_required
def api_endpoint(request):
    return JsonResponse({'status': 'public'})
```

### 4. ë¹„ë™ê¸° ì„¸ì…˜ ì§€ì›

**ì„¸ì…˜ API ë¹„ë™ê¸° ì§€ì›**
- ê¸°ì¡´ ë™ê¸° ë©”ì†Œë“œ: `get()`, `set()`, `delete()`
- ìƒˆë¡œìš´ ë¹„ë™ê¸° ë©”ì†Œë“œ: `aget()`, `aset()`, `adelete()`

**ì‚¬ìš© ì˜ˆì‹œ**
```python
# views.py
async def async_session_view(request):
    # ë¹„ë™ê¸° ì„¸ì…˜ ì½ê¸°
    user_id = await request.session.aget('user_id')
    
    # ë¹„ë™ê¸° ì„¸ì…˜ ì„¤ì •
    await request.session.aset('last_visit', timezone.now())
    
    # ë¹„ë™ê¸° ì„¸ì…˜ ì‚­ì œ
    await request.session.adelete('temporary_data')
    
    return JsonResponse({'status': 'success'})
```

## ğŸš€ Django 5.0 ì£¼ìš” ê¸°ëŠ¥

### 1. ê´€ë¦¬ì í˜ì´ì§€ íŒ¨ì‹¯ í•„í„°

**ë°ì´í„° ë¶„ì„ ê¸°ëŠ¥ ê°•í™”**
- í•„í„°ë³„ ë°ì´í„° ê°œìˆ˜ í‘œì‹œ
- ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
- ëŒ€ìš©ëŸ‰ ë°ì´í„° ê´€ë¦¬ íš¨ìœ¨ì„± ì¦ëŒ€

**í™œì„±í™” ë°©ë²•**
```python
# admin.py
class ProductAdmin(admin.ModelAdmin):
    list_filter = ['category', 'brand', 'status']
    show_facets = admin.ShowFacets.ALWAYS  # í•­ìƒ í‘œì‹œ
    # show_facets = admin.ShowFacets.NEVER   # ìˆ¨ê¸°ê¸°
    # show_facets = admin.ShowFacets.AUTO    # ìë™ (ê¸°ë³¸ê°’)
```

### 2. í¼ í•„ë“œ ê·¸ë£¹ í…œí”Œë¦¿

**í…œí”Œë¦¿ ê°„ì†Œí™”**
- ë³µì¡í•œ í¼ ë Œë”ë§ ë¡œì§ ë‹¨ìˆœí™”
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í•„ë“œ ê·¸ë£¹
- ì ‘ê·¼ì„± ê°œì„ 

**ê¸°ì¡´ ë°©ì‹ (ë³µì¡í•¨)**
```django
{% raw %}
<div>
  {{ form.name.label_tag }}
  {% if form.name.help_text %}
    <div class="helptext">{{ form.name.help_text|safe }}</div>
  {% endif %}
  {{ form.name.errors }}
  {{ form.name }}
</div>
{% endraw %}
```

**ìƒˆë¡œìš´ ë°©ì‹ (ê°„ë‹¨í•¨)**
```django
{% raw %}
<div>
  {{ form.name.as_field_group }}
</div>
{% endraw %}
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ê³„ì‚° ê¸°ë³¸ê°’ (db_default)

**ì„±ëŠ¥ê³¼ ì¼ê´€ì„± í–¥ìƒ**
- ë°ì´í„°ë² ì´ìŠ¤ ë ˆë²¨ì—ì„œ ê¸°ë³¸ê°’ ì²˜ë¦¬
- ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ ê°œì„ 
- ë°ì´í„° ì¼ê´€ì„± ë³´ì¥

**ì‚¬ìš© ì˜ˆì‹œ**
```python
# models.py
from django.db import models
from django.db.models.functions import Now, Pi

class User(models.Model):
    username = models.CharField(max_length=100)
    age = models.IntegerField(db_default=18)           # ê¸°ë³¸ ë‚˜ì´
    created_at = models.DateTimeField(db_default=Now()) # í˜„ì¬ ì‹œê°„
    
class Circle(models.Model):
    radius = models.FloatField()
    circumference = models.FloatField(db_default=2 * Pi()) # ì›ì£¼ìœ¨ ê³„ì‚°
```

### 4. ìƒì„± í•„ë“œ (GeneratedField)

**ê³„ì‚°ëœ í•„ë“œ ìë™ ê´€ë¦¬**
- ë‹¤ë¥¸ í•„ë“œ ê°’ìœ¼ë¡œë¶€í„° ìë™ ê³„ì‚°
- ë°ì´í„°ë² ì´ìŠ¤ ë ˆë²¨ ì²˜ë¦¬
- ì¼ê´€ì„±ê³¼ ì„±ëŠ¥ í–¥ìƒ

**ì‹¤ì œ í™œìš© ì˜ˆì‹œ**
```python
# models.py
from django.db import models
from django.db.models import F

class Product(models.Model):
    name = models.CharField(max_length=100)
    price = models.DecimalField(max_digits=10, decimal_places=2)
    tax_rate = models.DecimalField(max_digits=5, decimal_places=4)
    
    # ì„¸ê¸ˆ í¬í•¨ ê°€ê²© ìë™ ê³„ì‚°
    total_price = models.GeneratedField(
        expression=F("price") * (1 + F("tax_rate")),
        output_field=models.DecimalField(max_digits=10, decimal_places=2),
        db_persist=True,
    )

class Rectangle(models.Model):
    width = models.FloatField()
    height = models.FloatField()
    
    # ë©´ì  ìë™ ê³„ì‚°
    area = models.GeneratedField(
        expression=F("width") * F("height"),
        output_field=models.FloatField(),
        db_persist=True,
    )
```

### 5. í•„ë“œ ì„ íƒì§€ ë¬¸ë²• ê°œì„ 

**ë” ìœ ì—°í•œ choices ì •ì˜**
- ë”•ì…”ë„ˆë¦¬ í˜•íƒœ ì§€ì›
- í•¨ìˆ˜ í˜•íƒœ ì§€ì›
- Enum ì§ì ‘ ì‚¬ìš© ê°€ëŠ¥

**ê¸°ì¡´ ë°©ì‹**
```python
# models.py
class Winner(models.Model):
    MEDAL_CHOICES = [
        ('gold', 'ê¸ˆë©”ë‹¬'),
        ('silver', 'ì€ë©”ë‹¬'),
        ('bronze', 'ë™ë©”ë‹¬'),
    ]
    medal = models.CharField(max_length=10, choices=MEDAL_CHOICES)
```

**ìƒˆë¡œìš´ ë°©ì‹ë“¤**
```python
# models.py
from django.db import models

# 1. ë”•ì…”ë„ˆë¦¬ í˜•íƒœ
SPORT_CHOICES = {
    "ê²©íˆ¬ê¸°": {"judo": "ìœ ë„", "karate": "ê°€ë¼ë°"},
    "ë¼ì¼“": {"badminton": "ë°°ë“œë¯¼í„´", "tennis": "í…Œë‹ˆìŠ¤"},
    "unknown": "ë¯¸ì •",
}

# 2. í•¨ìˆ˜ í˜•íƒœ
def get_year_choices():
    current_year = timezone.now().year
    return [(i, str(i)) for i in range(2000, current_year + 1)]

# 3. Enum ì§ì ‘ ì‚¬ìš©
Medal = models.TextChoices("Medal", "GOLD SILVER BRONZE")

class Winner(models.Model):
    medal = models.CharField(max_length=10, choices=Medal)  # .choices ë¶ˆí•„ìš”
    sport = models.CharField(max_length=20, choices=SPORT_CHOICES)
    year = models.IntegerField(choices=get_year_choices)
```

## ğŸ”§ ë¹„ë™ê¸° ê¸°ëŠ¥ ê°•í™”

### Django 5.1 ë¹„ë™ê¸° ê¸°ëŠ¥

**ì¸ì¦ ë°ì½”ë ˆì´í„° ë¹„ë™ê¸° ì§€ì›**
```python
# views.py
from django.contrib.auth.decorators import login_required

@login_required
async def async_profile_view(request):
    user = await request.auser()  # ë¹„ë™ê¸° ì‚¬ìš©ì ì¡°íšŒ
    # ë¹„ë™ê¸° ë¡œì§ ì²˜ë¦¬
    return render(request, 'profile.html', {'user': user})
```

### Django 5.0 ë¹„ë™ê¸° ê¸°ëŠ¥

**í¬ê´„ì ì¸ ë¹„ë™ê¸° ì§€ì›**
```python
# views.py
from django.contrib.auth import aauthenticate, alogin
from django.contrib.auth.hashers import acheck_password

async def async_login_view(request):
    if request.method == 'POST':
        username = request.POST['username']
        password = request.POST['password']
        
        # ë¹„ë™ê¸° ì¸ì¦
        user = await aauthenticate(
            request, 
            username=username, 
            password=password
        )
        
        if user:
            # ë¹„ë™ê¸° ë¡œê·¸ì¸
            await alogin(request, user)
            return redirect('dashboard')
    
    return render(request, 'login.html')
```

## ğŸ¯ ì‹¤ë¬´ì—ì„œ ë°”ë¡œ ì ìš© ê°€ëŠ¥í•œ íŒ

### 1. ì„±ëŠ¥ ìµœì í™”

**PostgreSQL ì—°ê²° í’€ ì„¤ì •**
```python
# production settings
DATABASES = {
    "default": {
        "ENGINE": "django.db.backends.postgresql",
        "OPTIONS": {
            "pool": {
                "min_size": 5,
                "max_size": 20,
                "timeout": 30,
            }
        },
    },
}
```

### 2. ë³´ì•ˆ ê°•í™”

**ì „ì²´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¸ì¦ í•„ìˆ˜**
```python
# settings.py
MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.auth.middleware.LoginRequiredMiddleware',  # ì¶”ê°€
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]
```

### 3. ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

**ì¿¼ë¦¬ìŠ¤íŠ¸ë§ í™œìš©**
```django
{% raw %}
<!-- ê²€ìƒ‰ ë° í•„í„° í˜ì´ì§€ -->
<div class="filters">
    <a href="{% querystring category='electronics' %}">ì „ìì œí’ˆ</a>
    <a href="{% querystring category='clothing' %}">ì˜ë¥˜</a>
    <a href="{% querystring sort='price' order='asc' %}">ê°€ê²© ë‚®ì€ìˆœ</a>
    <a href="{% querystring sort='rating' order='desc' %}">í‰ì  ë†’ì€ìˆœ</a>
</div>

<!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
<div class="pagination">
    {% if page.has_previous %}
        <a href="{% querystring page=page.previous_page_number %}">ì´ì „</a>
    {% endif %}
    
    {% if page.has_next %}
        <a href="{% querystring page=page.next_page_number %}">ë‹¤ìŒ</a>
    {% endif %}
</div>
{% endraw %}
```

## ğŸ”„ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

### Python í˜¸í™˜ì„±
- **Django 5.0**: Python 3.10, 3.11, 3.12 ì§€ì›
- **Django 5.1**: Python 3.10, 3.11, 3.12, 3.13 ì§€ì›

### ë°ì´í„°ë² ì´ìŠ¤ í˜¸í™˜ì„±
- **PostgreSQL**: 13+ (Django 5.1)
- **MariaDB**: 10.5+ (Django 5.1)
- **SQLite**: 3.31.0+ (Django 5.1)
- **MySQL**: 8.0.11+

### ì£¼ìš” ì œê±° ì‚¬í•­
```python
# Django 5.0ì—ì„œ ì œê±°ë¨
# USE_TZ = False  # ê¸°ë³¸ê°’ì´ Trueë¡œ ë³€ê²½
# USE_L10N = False  # ì„¤ì • ìì²´ê°€ ì œê±°ë¨
# pytz ì§€ì› ì œê±° (zoneinfo ì‚¬ìš© ê¶Œì¥)
```

## ğŸ‰ ê²°ë¡ 

Django 5.0ê³¼ 5.1ì€ ë‹¨ìˆœí•œ ë²„ì „ ì—…ë°ì´íŠ¸ë¥¼ ë„˜ì–´ ì›¹ ê°œë°œì˜ íŒ¨ëŸ¬ë‹¤ì„ì„ ë°”ê¾¸ëŠ” ì¤‘ìš”í•œ ë¦´ë¦¬ìŠ¤ì…ë‹ˆë‹¤. íŠ¹íˆ:

1. **ìƒì‚°ì„± í–¥ìƒ**: í…œí”Œë¦¿ íƒœê·¸ì™€ í¼ ë Œë”ë§ ê°„ì†Œí™”
2. **ì„±ëŠ¥ ê°œì„ **: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í’€ë§ê³¼ ê³„ì‚° í•„ë“œ
3. **ë³´ì•ˆ ê°•í™”**: ê¸°ë³¸ ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ì™€ ê°œì„ ëœ ë³´ì•ˆ ê¸°ëŠ¥
4. **ë¯¸ë˜ ì§€í–¥**: ë¹„ë™ê¸° ê¸°ëŠ¥ í™•ì¥ê³¼ í˜„ëŒ€ì  Python ì§€ì›

ì´ëŸ¬í•œ ê¸°ëŠ¥ë“¤ì„ ì ì ˆíˆ í™œìš©í•˜ë©´ ë” ì•ˆì •ì ì´ê³  íš¨ìœ¨ì ì¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì ì§„ì ìœ¼ë¡œ ìƒˆë¡œìš´ ê¸°ëŠ¥ë“¤ì„ ë„ì…í•˜ì—¬ ê¸°ì¡´ í”„ë¡œì íŠ¸ì˜ ì„±ëŠ¥ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ê°œì„ í•´ë³´ì„¸ìš”.

---

*ë” ìì„¸í•œ ë‚´ìš©ì€ [Django ê³µì‹ ë¬¸ì„œ](https://docs.djangoproject.com/)ë¥¼ ì°¸ì¡°í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.*
